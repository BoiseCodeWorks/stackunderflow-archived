<div class="jumbotron">
    <center>
        <h1>Comment</h1></center>
</div>

<!--<p>If we are logged in we should have a member obj</p>-->

<!--<h3>Comment Rules</h3>
<p>A member must be logged in to cast votes, ask Comments, add responses, or add comments</p>
<p>A member may not upvote their own Comments/answers/comments</p>
<p>Only the member who posted the the Comments can mark an answer as the correct answer</p>
<p>Only the member who posted the the Comments/answers/comments can edit their content</p>
<p>A member may only upvote the Comments/answers/comments once.</p>
<p>A member can change their vote to either up or down but may not vote both ways.</p>-->


<div>
    <ul class="list-group">
        <li class="list-group-item">
            <h1>Question</h1> Title: {{question.title}}<br> Body: {{question.body}}<br> Author: {{member.username}}
        </li>
    </ul>
</div>


<div class="panel panel-default">
    <div class="panel-heading">
        <center>
            <h3 class="panel-title jumbotron">Comments</h3> </center>
    </div>
    <div class="panel-body">
        <form ng-submit="addComment(newQuestion)">
            <div class="form-group">
                <label for="title">Title:</label>
                <input class="form-control" ng-model="newQuestion.title" type="text">
            </div>
            <div class="form-group">
                <label for="body">Description:</label>
                <input class="form-control" ng-model="newQuestion.body" type="text">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</div>

<div ng-repeat="comment in comments">
    <ul class="list-group container">
        <li class="list-group-item row">
            <div class="col-sm-10">
                Title: {{comment.title}}
                <br> Body: {{comment.body}}
                <br> Author: {{member.username}}
            </div>
            <div class="col-sm-2">
                <button class="btn btn-primary" ng-click="response = !response">Respond</button>
            </div>


            <div class="row">
                <form ng-show="response" ng-submit="addComment(newComment)">
                    <div class="form-group col-sm-5">
                        <label for="title">Title:</label>
                        <input class="form-control" ng-model="newComment.title" type="text">
                    </div>
                    <div class="form-group col-sm-5">
                        <label for="body">Description:</label>
                        <input class="form-control" ng-model="newComment.body" type="text">
                    </div>
                    <div class="col-sm-2">
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                </form>
                <hr>
            </div>
        </li>
    </ul>
</div>

<div class="col-sm-4">
    <a ng-click="vote(1)" class="glyphicon glyphicon-arrow-up"></a>
    <span>{{question.voteCount}}</span>
    <a ng-click="vote(-1)" class="glyphicon glyphicon-arrow-down"></a>
    <a ui-sref="question({id:question.$id})" class="btn">Comment</a>
    <input ng-model="newQuestion.checkbox" type="checkbox">
</div>